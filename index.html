<!DOCTYPE html>
<html>
  <head>
    <title>Nova NEET Calculator</title>
    <style>
      .screen {
        display: none;
      }
      .screen.active {
        display: block;
      }
      button {
        padding: 15px;
        margin: 10px;
        font-size: 16px;
      }
    </style>
  </head>

  <body>
    <!-- HOME SCREEN -->
    <div id="home" class="screen active">
      <h2>What do you want to do?</h2>
      <button onclick="showScreen('calculate')">Calculate Marks</button>
      <button onclick="showScreen('history')">Check Previous Marks</button>
    </div>

    <!-- CALCULATE SCREEN -->
    <div id="calculate" class="screen">
        <h2>Calculate Marks</h2>
        
        <label>
            Test Name:
            <input id="testName" type="text" placeholder="Mastery 1.1">
        </label>
        <br><br>

        <label>
            Test Type:
            <select id="testType">
                <option value="major">Major (720)</option>
                <option value="minor">Minor (400)</option>
            </select>
        </label>

        <br><br>


        <label>
            Physics Correct:
            <input id="phyC" type="number" min="0" max="45" required>
        </label>
        <br>

        <label>
            Physics Wrong:
            <input id="phyW" type="number" min="0" max="45" required>
        </label>
        <br><br>

        <label>
            Chemistry Correct:
            <input id="chemC" type="number" min="0" max="45" required>
        </label>
        <br>

        <label>
            Chemistry Wrong:
            <input id="chemW" type="number" min="0" max="45" required>
        </label>

        <br><br>

        <label>
            Botany Correct:
            <input id="botC" type="number" min="0" max="45" required>
        </label>
        <br>

        <label>
            Botany Wrong:
            <input id="botW" type="number" min="0" max="45" required>
        </label>
        <br><br>

        <label>
            Zoology Correct:
            <input id="zooC" type="number" min="0" max="45" required>
        </label>
        <br>

        <label>
            Zoology Wrong:
            <input id="zooW" type="number" min="0" max="45" required>
        </label>


        <p id="phyResult"></p>
        <p id="chemResult"></p>
        <p id="botResult"></p>
        <p id="zooResult"></p>
        <p id="totalResult"></p>
        <p id="percentageResult"></p>
        <button onclick="calculatePhysics()">Calculate Physics</button>
        <button onclick="calculateChemistry()">Calculate Chemistry</button>
        <button onclick="calculateBotany()">Calculate Botany</button>
        <button onclick="calculateZoology()">Calculate Zoology</button>
        <button onclick="calculateTotal()">Calculate TOTAL</button>
        <button onclick="showScreen('home')">⬅ Back</button>

    </div>


    <!-- HISTORY SCREEN -->
    <div id="history" class="screen">
      <h2>Previous Marks</h2>
      <p>(Saved tests will appear here later)</p>
      <button onclick="showScreen('home')">⬅ Back</button>
    </div>

    <script>
        function showScreen(screenId) {
            document.querySelectorAll(".screen").forEach(function (screen) {
                screen.classList.remove("active");
            });
            document.getElementById(screenId).classList.add("active");
        }

        function readInputs() {
            const name = document.getElementById("testName").value;
            const phyC = document.getElementById("phyC").value;
            const phyW = document.getElementById("phyW").value;

            alert(
                "Test: " + name +
                "\nPhysics Correct: " + phyC +
                "\nPhysics Wrong: " + phyW
            );
        }

        function getMaxMarks() {
            const type = document.getElementById("testType").value;
            return type === "minor" ? 400 : 720;
        }

        function getMaxQuestions() {
            const type = document.getElementById("testType").value;
            return type === "minor" ? 25 : 45;
        }

        function calculatePhysics() {
            const phyC = Number(document.getElementById("phyC").value) || 0;
            const phyW = Number(document.getElementById("phyW").value) || 0;

            const maxQ = getMaxQuestions();

            if (phyC + phyW > maxQ) {
                document.getElementById("phyResult").innerText =
                    "❌ Physics questions cannot exceed " + maxQ;
                return;
            }

            const score = phyC * 4 - phyW;

            document.getElementById("phyResult").innerText =
                "Physics score: " + score + " / 180";
        }

        function calculateChemistry() {
            const chemC = Number(document.getElementById("chemC").value) || 0;
            const chemW = Number(document.getElementById("chemW").value) || 0;

            const maxQ = getMaxQuestions();

            if (chemC + chemW > maxQ) {
                document.getElementById("chemResult").innerText =
                    "❌ Chemistry questions cannot exceed " + maxQ;
                return;
            }

            const score = chemC * 4 - chemW;

            document.getElementById("chemResult").innerText =
                "Chemistry score: " + score + " / 180";
        }
        
        function calculateBotany() {
            const botC = Number(document.getElementById("botC").value) || 0;
            const botW = Number(document.getElementById("botW").value) || 0;

            const maxQ = getMaxQuestions();

            if (botC + botW > maxQ) {
                document.getElementById("botResult").innerText =
                    "❌ Botany questions cannot exceed " + maxQ;
                return;
            }

            const score = botC * 4 - botW;

            document.getElementById("botResult").innerText =
                "Botany score: " + score + " / 180";
        }
        
        function calculateZoology() {
            const zooC = Number(document.getElementById("zooC").value) || 0;
            const zooW = Number(document.getElementById("zooW").value) || 0;

            const maxQ = getMaxQuestions();

            if (zooC + zooW > maxQ) {
                document.getElementById("zooResult").innerText =
                    "❌ Zoology questions cannot exceed " + maxQ;
                return;
            }

            const score = zooC * 4 - zooW;

            document.getElementById("zooResult").innerText =
                "Zoology score: " + score + " / 180";
        }

        function calculateTotal() {
            const fields = [
                "phyC","phyW",
                "chemC","chemW",
                "botC","botW",
                "zooC","zooW"
            ];

            for (let id of fields) {
                if (document.getElementById(id).value === "") {
                    document.getElementById("totalResult").innerText =
                        "⚠️ Please fill all fields before calculating total.";
                    return;
                }
            }

            const phyC = Number(document.getElementById("phyC").value) || 0;
            const phyW = Number(document.getElementById("phyW").value) || 0;

            const chemC = Number(document.getElementById("chemC").value) || 0;
            const chemW = Number(document.getElementById("chemW").value) || 0;

            const botC = Number(document.getElementById("botC").value) || 0;
            const botW = Number(document.getElementById("botW").value) || 0;

            const zooC = Number(document.getElementById("zooC").value) || 0;
            const zooW = Number(document.getElementById("zooW").value) || 0;

            const phyScore = phyC * 4 - phyW;
            const chemScore = chemC * 4 - chemW;
            const botScore = botC * 4 - botW;
            const zooScore = zooC * 4 - zooW;

            const total = phyScore + chemScore + botScore + zooScore;

            const maxMarks = getMaxMarks();

            document.getElementById("totalResult").innerText =
                "Total score: " + total + " / " + maxMarks;
            
            const percentage = (total / maxMarks) * 100;

            document.getElementById("percentageResult").innerText =
                "Percentage: " + percentage.toFixed(2) + "%";
        }
        
    </script>
  </body>
</html>